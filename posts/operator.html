<html>
<head><meta name="generator" content="Hexo 3.9.0">
	
	<title>运算符优先级的比较</title>
	<meta name="keywords" content="maochong.xin,毛崇鑫,毛崇鑫的blog">

    <meta https-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
	   <link href="/css/main.css?v=3" rel="stylesheet" type="text/css">
    
        <script src="/js/util.js"></script>
        <script>
            if(isMobile()) {
                loadjscssfile('../css/mobile.css', 'css');
            } else {
                loadjscssfile('../css/desktop.css', 'css');
            }
        </script> 
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=3">
    
    

</head>

<body>


<h2 class="title">运算符优先级的比较</h2>
<!---
<div style="text-align:center;margin-top: -10px;">
<div class="article-category">
发表于2019年9月19日




 </div>
--->
</div>

<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#补充一个关于gets-函数的使用问题"><span class="toc-text">补充一个关于gets()函数的使用问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#一点感受"><span class="toc-text">一点感受</span></a></li></ol>
<p><strong>首先非常非常感谢今晚一个朋友的提问，给我纠正了一个很长时间的错误知识。</strong></p>
<p>一段代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">100</span>];</span><br><span class="line">    gets(s);</span><br><span class="line">    <span class="keyword">char</span> *t = s;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%c %c\n"</span>,*t+<span class="number">1</span>,*(t+<span class="number">1</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输入&amp;输出</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aa</span><br><span class="line">b a</span><br></pre></td></tr></table></figure>


<pre><code>在这之前我一直有个错误认识，那就是「+」运算符的优先级是高于「*」取值运算符的，
然而一道程序设计题目debug的过程中我才发现「+」运算符的优先级其实是低于「*」运算符的</code></pre><p>如上文输出</p>
<pre><code>*t+1 的执行也就是:先求值 *t 然后再求值 *t + 1
而 *(t+1) 也就是:先求值 t + 1 然后在求值 *(t+1)</code></pre><p>还有关于「*p++」的问题</p>
<p>一段程序:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">100</span>];</span><br><span class="line">    gets(s);</span><br><span class="line">    <span class="keyword">char</span> *t = s;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%p %c %p %c\n"</span>,t,*t++,t,*t);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输入&amp;输出</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">abc</span><br><span class="line"><span class="number">0x7ffeefbff5d0</span> a <span class="number">0x7ffeefbff5d1</span> b</span><br></pre></td></tr></table></figure>

<p>如上文输出</p>
<pre><code>根据百度的结果 「++」运算符的优先级与「*」取值运算符的优先级相等
因此会先执行「*」取值运算然后再对指针t执行「++」运算</code></pre><h2 id="补充一个关于gets-函数的使用问题"><a href="#补充一个关于gets-函数的使用问题" class="headerlink" title="补充一个关于gets()函数的使用问题"></a>补充一个关于gets()函数的使用问题</h2><ol>
<li><p>gets是从stdin流中读取字符串，直至接受到换行符或EOF时停止，并将读取的结果存放在buffer指针所指向的字符数组中。换行符不作为读取串的内容，读取的换行符被转换为null值，并由此来结束字符串。</p>
</li>
<li><p>gets函数可以无限读取，不会判断上限，所以程序员应该确保buffer的空间足够大，以便在执行读操作时不发生溢出。如果溢出，多出来的字符将被写入到堆栈中，这就覆盖了堆栈原先的内容，破坏一个或多个不相关变量的值。这个事实导致gets函数只适用于玩具程序。</p>
</li>
<li><p>读入成功，返回与参数buffer相同的指针；读入过程中遇到EOF(End-of-File)或发生错误，返回NULL指针。所以在遇到返回值为NULL的情况，要用ferror或feof函数检查是发生错误还是遇到EOF。</p>
</li>
</ol>
<h2 id="一点感受"><a href="#一点感受" class="headerlink" title="一点感受"></a>一点感受</h2><p>因为被误以为编程学习进度快(雾,经常帮别人讲几道题的原因,我从中也获得了很多的收获,因为人跟人思维的不同,往往会接触到不同的思路,一段新代码的阅读又作为一次次的练习,深得益处,因此常常觉得我也该向向我问问题的说声谢谢,谢谢对我水平的认可,谢谢对我水平的促进,「求知若饥,虚心若愚」。</p>


<!--<a href="https://maochong.xin/posts/operator.html#disqus_thread" class="article-comment-link">Comments</a>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = ''; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->
<div style="display:none">
<script src="https://s4.cnzz.com/stat.php?id=&web_id=" language="JavaScript"></script>script>
</div>






</body>
</html>